const worksItemsDB = [
  {
    id: 'worksItem-w1',
    title: 'face of culture',
    type: 'art installation',
    imgs: [
      './assets/img/w1-1.jpg',
      './assets/img/w1-2.jpg',
      './assets/img/w1-3.jpg',
      './assets/img/w1-4.jpg',
      './assets/img/w1-5.jpg'
    ]
  },
  {
    id: 'worksItem-w2',
    title: 'music for life',
    type: 'print design',
    imgs: [
      './assets/img/w2-1.jpg',
      './assets/img/w2-2.jpg',
      './assets/img/w2-3.jpg',
      './assets/img/w2-4.jpg',
      './assets/img/w2-5.jpg'
    ]
  },
  {
    id: 'worksItem-w21',
    title: 'design thinking',
    type: 'print design',
    imgs: [
      './assets/img/w3-1.jpg',
      './assets/img/w3-2.jpg',
      './assets/img/w3-3.jpg',
      './assets/img/w3-4.jpg',
      './assets/img/w3-5.jpg'
    ]
  },
  {
    id: 'worksItem-w22',
    title: 'modern house',
    type: 'art installation',
    imgs: [
      './assets/img/w4-1.jpg',
      './assets/img/w4-2.jpg',
      './assets/img/w4-3.jpg',
      './assets/img/w4-4.jpg',
      './assets/img/w4-5.jpg'
    ]
  },
  {
    id: 'worksItem-w31',
    title: 'kitchen inspiration',
    type: 'creative kitchen',
    imgs: [
      './assets/img/w5-1.jpg',
      './assets/img/w5-2.jpg',
      './assets/img/w5-3.jpg',
      './assets/img/w5-4.jpg',
      './assets/img/w5-5.jpg'
    ]
  },
  {
    id: 'worksItem-w32',
    title: 'futuristic plants',
    type: 'creative kitchen',
    imgs: [
      './assets/img/w6-1.jpg',
      './assets/img/w6-2.jpg',
      './assets/img/w6-3.jpg',
      './assets/img/w6-4.jpg',
      './assets/img/w6-5.jpg'
    ]
  },
  {
    id: 'worksItem-w3',
    title: 'golfino awards',
    type: 'art installation',
    imgs: [
      './assets/img/w7-1.jpg',
      './assets/img/w7-2.jpg',
      './assets/img/w7-3.jpg',
      './assets/img/w7-4.jpg',
      './assets/img/w7-5.jpg'
    ]
  },
  {
    id: 'worksItem-w4',
    title: 'freelancer`s home',
    type: 'print design',
    imgs: [
      './assets/img/w8-1.jpg',
      './assets/img/w8-2.jpg',
      './assets/img/w8-3.jpg',
      './assets/img/w8-4.jpg',
      './assets/img/w8-5.jpg'
    ]
  },
  {
    id: 'worksItem-w23',
    title: 'self-motivation',
    type: 'creative kitchen',
    imgs: [
      './assets/img/w9-1.jpg',
      './assets/img/w9-2.jpg',
      './assets/img/w9-3.jpg',
      './assets/img/w9-4.jpg',
      './assets/img/w9-5.jpg'
    ]
  },
  {
    id: 'worksItem-w24',
    title: 'plant pattern',
    type: 'creative kitchen',
    imgs: [
      './assets/img/w10-1.jpg',
      './assets/img/w10-2.jpg',
      './assets/img/w10-3.jpg',
      './assets/img/w10-4.jpg',
      './assets/img/w10-5.jpg'
    ]
  },
  {
    id: 'worksItem-w33',
    title: 'urban art',
    type: 'print design',
    imgs: [
      './assets/img/w11-1.jpg',
      './assets/img/w11-2.jpg',
      './assets/img/w11-3.jpg',
      './assets/img/w11-4.jpg',
      './assets/img/w11-5.jpg'
    ]
  },
  {
    id: 'worksItem-w34',
    title: 'cozy house',
    type: 'art installation',
    imgs: [
      './assets/img/w12-1.jpg',
      './assets/img/w12-2.jpg',
      './assets/img/w12-3.jpg',
      './assets/img/w12-4.jpg',
      './assets/img/w12-5.jpg'
    ]
  },
  {
    id: 'worksItem-w5',
    title: 'the foodee',
    type: 'creative kitchen',
    imgs: [
      './assets/img/w13-1.jpg',
      './assets/img/w13-2.jpg',
      './assets/img/w13-3.jpg',
      './assets/img/w13-4.jpg',
      './assets/img/w13-5.jpg'
    ]
  },
  {
    id: 'worksItem-w6',
    title: 'artificial future',
    type: 'print design',
    imgs: [
      './assets/img/w14-1.jpg',
      './assets/img/w14-2.jpg',
      './assets/img/w14-3.jpg',
      './assets/img/w14-4.jpg',
      './assets/img/w14-5.jpg'
    ]
  },
  {
    id: 'worksItem-w25',
    title: 'wood art',
    type: 'art installation',
    imgs: [
      './assets/img/w15-1.jpg',
      './assets/img/w15-2.jpg',
      './assets/img/w15-3.jpg',
      './assets/img/w15-4.jpg',
      './assets/img/w15-5.jpg'
    ]
  },
  {
    id: 'worksItem-w26',
    title: 'simple design',
    type: 'art installation',
    imgs: [
      './assets/img/w16-1.jpg',
      './assets/img/w16-2.jpg',
      './assets/img/w16-3.jpg',
      './assets/img/w16-4.jpg',
      './assets/img/w16-5.jpg'
    ]
  },
  {
    id: 'worksItem-w35',
    title: 'typography design',
    type: 'print design',
    imgs: [
      './assets/img/w17-1.jpg',
      './assets/img/w17-2.jpg',
      './assets/img/w17-3.jpg',
      './assets/img/w17-4.jpg',
      './assets/img/w17-5.jpg'
    ]
  },
  {
    id: 'worksItem-w36',
    title: 'green interior',
    type: 'creative kitchen',
    imgs: [
      './assets/img/w18-1.jpg',
      './assets/img/w18-2.jpg',
      './assets/img/w18-3.jpg',
      './assets/img/w18-4.jpg',
      './assets/img/w18-5.jpg'
    ]
  }
]

function show() {
  worksItemsDB.forEach(function(element) {
    let imgArr = [...element.imgs]
    imgArr.forEach(function(img) {
      console.log(img)
    })
  })
}

// worksItem slider content creating
const portfolioItemContent = document.querySelectorAll(
  '.portfolio__item__content'
)
const portfolioBigItemContent = document.querySelectorAll(
  '.portfolioBig__item__content'
)

portfolioItemContent.forEach(button => {
  button.addEventListener('click', function() {
    let worksItemKey = button.dataset.about
    console.log(worksItemKey)
    localStorage.setItem('worksItemID', worksItemKey)
  })
})

portfolioBigItemContent.forEach(button => {
  button.addEventListener('click', function() {
    let worksItemKey = button.dataset.about
    console.log(worksItemKey)
    localStorage.setItem('worksItemID', worksItemKey)
  })
})

const worksItemTitle = document.querySelector('.worksItemTitle')
const worksItemSliderWrap = document.querySelector('.worksItemSlider__wrap')

if (worksItemSliderWrap) {
  let activeWorksItemId = localStorage.getItem('worksItemID')

  worksItemsDB.forEach(item => {
    if (item.id == activeWorksItemId) {
      worksItemTitle.innerHTML = item.title

      let imgArr = [...item.imgs]
      imgArr.forEach(function(img) {
        const worksItemSliderSlide = document.createElement('div')
        worksItemSliderSlide.className = 'swiper-slide worksItemSlider__slide'
        worksItemSliderWrap.append(worksItemSliderSlide)

        const worksItemSliderSlideImg = document.createElement('img')
        worksItemSliderSlideImg.className =
          'swiper-slide worksItemSlider__slide__img'
        worksItemSliderSlideImg.setAttribute('src', img)
        worksItemSliderSlideImg.setAttribute('alt', 'photos')
        worksItemSliderSlide.append(worksItemSliderSlideImg)
      })
    }
  })
}

// worksItem slider, slideCounter creating
const worksItemPage = document.querySelector('.worksItem-page')
const worksItemSlider = document.querySelector('.worksItemSlider')
const worksItemSliderSlidsArr = document.querySelectorAll(
  '.worksItemSlider__slide'
)
const worksItemSliderCounter = document.querySelector(
  '.worksItemSlider__counter'
)
const worksSliderNav = document.querySelector('.worksSliderNav')
const worksSliderPagination = document.querySelector('.swiper-pagination5')

if (worksSliderNav) {
  worksItemPage.addEventListener('click', function() {
    worksItemSliderSlidsArr.forEach(function(element, index) {
      if (element.classList.contains('swiper-slide-active')) {
        let pos = index + 1
        worksItemSliderCounter.innerHTML = `${pos}/5`
      }
    })
  })
}

//relatedWorks slides auto-creating

let sliderWrapper = document.querySelector('.relatedWorksSlider__wrap')

if (sliderWrapper) {
  worksItemsDB.forEach(worksItem => {
    let slide = document.createElement('div')
    slide.className = 'swiper-slide relatedWorksSlider__slide'
    sliderWrapper.append(slide)

    let slideLink = document.createElement('a')
    slideLink.setAttribute('data-about', worksItem.id)
    slideLink.setAttribute('href', 'worksItem.html')
    slideLink.className =
      'relatedWorksSlider__slide__link whatWeDo-blog__content__button '
    slide.append(slideLink)

    let slideTitle = document.createElement('p')
    slideTitle.className = 'relatedWorksSlider__slide__title'
    slideTitle.innerText = worksItem.title
    slideLink.append(slideTitle)

    let slideData = document.createElement('p')
    slideData.className = 'relatedWorksSlider__slide__data'
    slideData.innerText = worksItem.type
    slideLink.append(slideData)

    slideLink.addEventListener('click', function() {
      localStorage.setItem('worksItemID', worksItem.id)
    })
  })
}
